<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperKey - Smart QR Tool</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --meta-blue: #0081fb; --meta-bg: #f0f2f5; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--meta-bg); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .card { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 12px 28px rgba(0,0,0,0.12); width: 100%; max-width: 400px; text-align: center; }
        h2 { color: #1c1e21; font-size: 24px; margin-bottom: 10px; }
        .upload-area { border: 2px dashed #ccd0d5; padding: 30px; border-radius: 12px; cursor: pointer; transition: 0.3s; }
        .upload-area:hover { border-color: var(--meta-blue); background: #f7f8fa; }
        .btn { background: var(--meta-blue); color: white; padding: 12px; border: none; border-radius: 8px; width: 100%; font-weight: bold; cursor: pointer; margin-top: 20px; }
        #qr-box { margin-top: 30px; display: none; border-top: 1px solid #ddd; padding-top: 20px; }
        #qrcode { display: flex; justify-content: center; margin-bottom: 15px; }
        .link { font-size: 12px; color: var(--meta-blue); word-break: break-all; }
        .loader { display: none; margin: 15px 0; font-weight: bold; color: #606770; }
    </style>
</head>
<body>

<div class="card">
    <h2>SuperKey QR Tool</h2>
    <p style="color: #606770;">‡§´‡§æ‡§á‡§≤ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§â‡§∏‡§ï‡§æ QR ‡§ï‡•ã‡§° ‡§™‡§æ‡§è‡§Å</p>
    
    <div class="upload-area" onclick="document.getElementById('fileInput').click()">
        <span id="file-label">‡§Ø‡§π‡§æ‡§Å ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á ‡§´‡•ã‡§ü‡•ã ‡§ö‡•Å‡§®‡•á‡§Ç</span>
        <input type="file" id="fileInput" style="display:none" onchange="startUpload(this)">
    </div>

    <div id="loader" class="loader">‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó... üöÄ</div>

    <div id="qr-box">
        <div id="qrcode"></div>
        <p style="font-size: 13px;">‡§Ü‡§™‡§ï‡§æ ‡§≤‡§ø‡§Ç‡§ï ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à:</p>
        <a id="final-link" class="link" target="_blank"></a>
    </div>
</div>

<script>
    const CLOUD_NAME = "dprbizfao";
    const PRESET_ID = "3d2f1ace-6e44-4aaf-942f-8a0ee98ecba9"; // ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•Ä ‡§≤‡§Ç‡§¨‡•Ä ID

    function startUpload(input) {
        const file = input.files[0];
        if(!file) return;

        document.getElementById('file-label').innerText = file.name;
        document.getElementById('loader').style.display = 'block';
        document.getElementById('qr-box').style.display = 'none';

        const formData = new FormData();
        formData.append('file', file);
        formData.append('upload_preset', PRESET_ID); // ‡§≤‡§Ç‡§¨‡•Ä ID ‡§Ø‡§π‡§æ‡§Å ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡•á‡§ó‡•Ä

        fetch(`https://api.cloudinary.com/v1_1/${CLOUD_NAME}/upload`, {
            method: 'POST',
            body: formData
        })
        .then(res => res.json())
        .then(data => {
            document.getElementById('loader').style.display = 'none';
            if(data.secure_url) {
                document.getElementById('qr-box').style.display = 'block';
                document.getElementById('qrcode').innerHTML = "";
                new QRCode(document.getElementById('qrcode'), {
                    text: data.secure_url,
                    width: 160,
                    height: 160
                });
                document.getElementById('final-link').href = data.secure_url;
                document.getElementById('final-link').innerText = data.secure_url;
            } else {
                alert("‡§Ö‡§™‡§≤‡•ã‡§° ‡§è‡§∞‡§∞: " + data.error.message);
            }
        })
        .catch(err => {
            document.getElementById('loader').style.display = 'none';
            alert("‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§è‡§∞‡§∞!");
        });
    }
</script>

</body>
</html>
